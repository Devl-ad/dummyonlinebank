{% extends 'layouts/user.html' %}
<!--  -->
{% block title %} Account details {% endblock title %} {% block style %}
<style>
  .d-flex {
    display: flex;
  }
  .img-preview {
    position: fixed;
    visibility: hidden;
    width: 100%;
    height: 100vh;
    z-index: 9999;
    background-color: rgba(0, 0, 0, 0.2);
    top: 0;
    left: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .img-preview.active {
    visibility: visible;
  }

  .img-preview > div {
    background-color: #fff;
    width: 400px;
    height: 300px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .img-preview > div > div.headder {
    background-color: rgb(95, 95, 172);
    padding: 20px;
    width: 100%;
  }
  .img-preview > div > div > h2 {
    font-size: 30px;
    color: #fff;
    font-family: nunito;
  }

  .img-preview > div > div.conttentt {
    padding: 20px;
  }

  .img-preview > div > div.conttentt img {
    border-radius: 50%;
    width: 100px;
    height: 100px;
    object-fit: cover;
  }

  @media (max-width: 767px) {
    .img-preview > div {
      width: 300px;
    }
  }
</style>
{% endblock style %}
<!--  -->
{% block content %}
<!-- BEGIN: Content -->
<div class="content">
  <!-- BEGIN: Top Bar -->
  <div class="top-bar">
    <!-- BEGIN: Breadcrumb -->
    <nav aria-label="breadcrumb" class="-intro-x mr-auto hidden sm:flex">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Application</a></li>
        <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
      </ol>
    </nav>
    <!-- END: Breadcrumb -->
    <!-- BEGIN: Search -->
    <div class="intro-x relative mr-3 sm:mr-6">
      <!-- <div id="google_translate_element"></div> -->

      <script type="text/javascript">
        function googleTranslateElementInit() {
          new google.translate.TranslateElement(
            { pageLanguage: "en" },
            "google_translate_element"
          );
        }
      </script>

      <!-- <script
        type="text/javascript"
        src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"
      ></script> -->
    </div>
    <!-- END: Search -->
    <!-- BEGIN: Notifications -->

    <!-- END: Notifications -->
    <!-- BEGIN: Account Menu -->
    <div class="intro-x dropdown w-8 h-8">
      <div
        class="dropdown-toggle w-8 h-8 rounded-full overflow-hidden shadow-lg image-fit zoom-in"
        role="button"
        aria-expanded="false"
        data-tw-toggle="dropdown"
      >
        <img
          src="{{user.image_url}}"
          height="153.6"
          width="153.6"
          style="border-radius: 50%; object-fit: cover"
        />
      </div>
      <!-- dropdown -->
      {% include 'components/user-profile-icon.html' %}
      <!-- dropdown -->
    </div>
    <!-- END: Account Menu -->
  </div>
  <!-- END: Top Bar -->

  <div class="intro-y flex items-center mt-8">
    <h2 class="text-lg font-medium mr-auto">Accounts Details & History</h2>
  </div>
  <div class="grid grid-cols-12 gap-6 mt-5">
    <!-- BEGIN: Profile Menu -->
    <div
      class="col-span-12 lg:col-span-4 2xl:col-span-3 flex lg:block flex-col-reverse"
    >
      <div class="intro-y box mt-5 lg:mt-0">
        <div class="relative flex items-center p-5">
          <div class="w-12 h-12 image-fit">
            <img
              src="{{user.image_url}}"
              height="153.6"
              width="153.6"
              style="border-radius: 50%; object-fit: cover"
            />
          </div>
          <div class="ml-4 mr-auto">
            <div class="font-medium text-base">{{user.get_fullname}}</div>
            <div class="text-slate-500">Personal Online Banking</div>
          </div>
        </div>

        <div class="p-5 border-t border-slate-200/60 dark:border-darkmode-400">
          <a class="flex items-center text-primary font-medium" href="">
            <i data-lucide="activity" class="w-4 h-4 mr-2"></i> Account No:
            {{user.username}}
          </a>
          <a class="flex items-center text-primary mt-5" href="">
            <i data-lucide="mail" class="w-4 h-4 mr-2"></i> Email:
            {{user.email}}
          </a>

          <a class="flex items-center text-primary mt-5" href="">
            <i data-lucide="phone" class="w-4 h-4 mr-2"></i> Mobile No:
            {{user.phone_number}}
          </a>
        </div>

        <div
          class="p-5 border-t border-slate-200/60 dark:border-darkmode-400 flex"
        >
          <button
            type="button"
            class="btn btn-primary py-1 px-2"
            id="openProfileDialog"
          >
            Change Profile
          </button>
          <button
            type="button"
            class="btn btn-outline-secondary py-1 px-2 ml-auto"
          >
            Account
          </button>
        </div>
      </div>
      <div class="intro-y box p-5 bg-primary text-white mt-5">
        <div class="flex items-center">
          <div class="font-medium text-lg">Heritage Savings Bank</div>
          <div
            class="text-xs bg-white dark:bg-primary dark:text-white text-slate-700 px-1 rounded-md ml-auto"
          >
            New
          </div>
        </div>
        <div class="mt-4">
          Sign up offer requires you to deposit and maintain a minimum balance
          in order to earn the &#163;520 bonus. For enquiries send us an email
          support@{{domain}}
        </div>
        <div class="font-medium flex mt-5"></div>
      </div>
    </div>
    <!-- END: Profile Menu -->
    <div class="col-span-12 lg:col-span-8 2xl:col-span-9">
      <div class="grid grid-cols-12 gap-6">
        <!-- BEGIN: Daily Sales -->
        <div class="intro-y box col-span-12 2xl:col-span-6">
          <div
            class="flex items-center px-5 py-5 sm:py-3 border-b border-slate-200/60 dark:border-darkmode-400"
          >
            <h2 class="font-medium text-base mr-auto">
              PREMIUM INDIVIDUAL ACCOUNT
            </h2>
            <div class="dropdown ml-auto sm:hidden">
              <a
                class="dropdown-toggle w-5 h-5 block"
                href="javascript:;"
                aria-expanded="false"
                data-tw-toggle="dropdown"
              >
                <i
                  data-lucide="more-horizontal"
                  class="w-5 h-5 text-slate-500"
                ></i>
              </a>
            </div>
          </div>
          <div class="p-5">
            <div class="relative flex items-center">
              <table class="table table-resposive">
                <tr>
                  <th>Account Name</th>
                  <th>Account Number</th>
                  <th>Current Balance</th>
                </tr>

                <tr>
                  <td>{{user.get_fullname}}</td>
                  <td>{{user.username}}</td>

                  <td>&#163; {{user.balance}}</td>
                </tr>
              </table>
            </div>
          </div>
        </div>
        <!-- END: Daily Sales -->
        <!-- BEGIN: Announcement -->
        <div class="intro-y box col-span-12 2xl:col-span-6"></div>
        <!-- END: Announcement -->
        <!-- BEGIN: Projects -->

        <!-- END: Projects -->

        <!-- BEGIN: Latest Tasks -->
        <div class="intro-y box col-span-12 2xl:col-span-6">
          <div
            class="flex items-center px-5 py-5 sm:py-0 border-b border-slate-200/60 dark:border-darkmode-400"
          >
            <h2 class="font-medium text-base mr-auto">ACCOUNT HISTORY</h2>

            <div class="dropdown ml-auto sm:hidden">
              <a
                class="dropdown-toggle w-5 h-5 block"
                href="javascript:;"
                aria-expanded="false"
                data-tw-toggle="dropdown"
              >
                <i
                  data-lucide="more-horizontal"
                  class="w-5 h-5 text-slate-500"
                ></i>
              </a>
            </div>
            <ul
              class="nav nav-link-tabs w-auto ml-auto hidden sm:flex"
              role="tablist"
            >
              <li
                id="latest-tasks-last-week-tab"
                class="nav-item"
                role="presentation"
              >
                <a
                  href="javascript:;"
                  class="nav-link py-5"
                  data-tw-target="#latest-tasks-last-week"
                  aria-selected="false"
                  role="tab"
                >
                  ...
                </a>
              </li>
            </ul>
          </div>
          <div class="p-5">
            <div class="tab-content">
              <div
                id="latest-tasks-new"
                class="tab-pane active"
                role="tabpanel"
                aria-labelledby="latest-tasks-new-tab"
              >
                <!-- No Transaction Found -->

                <div class="flex items-center mt-5">
                  <div
                    class="border-l-2 border-primary dark:border-primary pl-4"
                  >
                    <a href="/transactions-log" class="font-medium"
                      >View Record</a
                    >
                  </div>
                  <div class="form-check form-switch ml-auto">
                    <input class="form-check-input" type="checkbox" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- END: Latest Tasks -->
        <!-- BEGIN: General Statistics -->

        <!-- END: General Statistics -->
      </div>
    </div>

    <div class="col-span-12 sm:col-span-12 2xl:col-span-3 intro-y">
      <div class="box p-5 zoom-in">
        <div class="flex">
          <div class="text-lg font-medium truncate mr-3"></div>

          <div>
            This site provides information about and access to services offered
            by the Institution and all its respective affiliates or partners.<br />
            &copy;2022 All rights reserved.
          </div>
          <div
            class="py-1 px-2 flex items-center rounded-full text-xs bg-slate-100 dark:bg-darkmode-400 text-slate-500 cursor-pointer ml-auto truncate"
          >
            <img
              border="0"
              src="/assets/img/logo_verisign.gif"
              width="93"
              height="52"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- END: Content -->

{% endblock content %}
<!--  -->
{% block dialog %}
<div class="img-preview" id="img-preview">
  <div class="img-preview-content">
    <div class="headder">
      <h2 class="text-center">Prieview image</h2>
    </div>
    <div class="conttentt">
      <img class="file-upload-image back" src="#" alt="avatar" />
    </div>

    <div class="subBtn d-flex">
      <button class="btn btn-danger mr-4" id="cloBtn">cancel</button>
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input
          type="file"
          name="profile_image"
          id="profilpics"
          accept=".jpg, .jpeg, .png"
          class="file-upload-input back"
          onchange="readURL(this,'back');"
          hidden
        />
        <button class="btn btn-primary" type="submit">Submit</button>
      </form>
    </div>
  </div>
</div>

{% endblock dialog %}
<!--  -->

{% block script %}
<script>
  function readURL(input, pos) {
    document.getElementById("img-preview").classList.add("active");
    console.log(input);
    if (input.files && input.files[0]) {
      var reader = new FileReader();

      reader.onload = function (e) {
        $(`.image-upload-wrap.${pos}`).hide();

        $(`.file-upload-image.${pos}`).attr("src", e.target.result);
        $(`.file-upload-content.${pos}`).show();

        $(`.image-title.${pos}`).html(input.files[0].name);
      };

      reader.readAsDataURL(input.files[0]);
    } else {
      removeUpload();
    }
  }

  document.getElementById("openProfileDialog").addEventListener("click", () => {
    document.getElementById("profilpics").click();
  });

  document.getElementById("cloBtn").addEventListener("click", () => {
    document.getElementById("img-preview").classList.remove("active");
  });
</script>
{% endblock script %}
